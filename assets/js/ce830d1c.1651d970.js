"use strict";(globalThis.webpackChunkdocs_site=globalThis.webpackChunkdocs_site||[]).push([[448],{8415:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"api-reference/overview","title":"API Reference Overview","description":"Complete API documentation for OpenZKTool proof generation, verification, and Stellar Soroban integration.","source":"@site/docs/api-reference/overview.md","sourceDirName":"api-reference","slug":"/api-reference/overview","permalink":"/openzktool/docs/api-reference/overview","draft":false,"unlisted":false,"editUrl":"https://github.com/xcapit/openzktool/tree/main/docs-site/docs/api-reference/overview.md","tags":[],"version":"current","sidebarPosition":0,"frontMatter":{"sidebar_position":0},"sidebar":"tutorialSidebar","previous":{"title":"KYC Transfer Circuit","permalink":"/openzktool/docs/circuit-templates/kyc-transfer"},"next":{"title":"SDK Reference","permalink":"/openzktool/docs/api-reference/sdk"}}');var s=r(4848),t=r(8453);const o={sidebar_position:0},l="API Reference Overview",c={},a=[{value:"Available APIs",id:"available-apis",level:2},{value:"Command Line Interface (CLI)",id:"command-line-interface-cli",level:3},{value:"JavaScript/TypeScript SDK (Coming Soon)",id:"javascripttypescript-sdk-coming-soon",level:3},{value:"Soroban Smart Contract API",id:"soroban-smart-contract-api",level:3},{value:"REST API (Coming Soon)",id:"rest-api-coming-soon",level:3},{value:"Quick Start",id:"quick-start",level:2},{value:"Generate a Proof",id:"generate-a-proof",level:3},{value:"Verify a Proof",id:"verify-a-proof",level:3},{value:"API Patterns",id:"api-patterns",level:2},{value:"Pattern 1: Client-Side Generation",id:"pattern-1-client-side-generation",level:3},{value:"Pattern 2: Server-Side Generation",id:"pattern-2-server-side-generation",level:3},{value:"Pattern 3: Hybrid Approach",id:"pattern-3-hybrid-approach",level:3},{value:"Common Parameters",id:"common-parameters",level:2},{value:"Private Inputs (Hidden)",id:"private-inputs-hidden",level:3},{value:"Public Inputs (Constraints)",id:"public-inputs-constraints",level:3},{value:"Output",id:"output",level:3},{value:"Error Handling",id:"error-handling",level:2},{value:"Example Error Response",id:"example-error-response",level:3},{value:"Rate Limits (REST API)",id:"rate-limits-rest-api",level:2},{value:"Authentication (REST API)",id:"authentication-rest-api",level:2},{value:"Versioning",id:"versioning",level:2},{value:"Migration Guides",id:"migration-guides",level:2},{value:"Upgrading from v0.x to v1.x",id:"upgrading-from-v0x-to-v1x",level:3},{value:"Support &amp; Community",id:"support--community",level:2},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"api-reference-overview",children:"API Reference Overview"})}),"\n",(0,s.jsx)(n.p,{children:"Complete API documentation for OpenZKTool proof generation, verification, and Stellar Soroban integration."}),"\n",(0,s.jsx)(n.h2,{id:"available-apis",children:"Available APIs"}),"\n",(0,s.jsx)(n.h3,{id:"command-line-interface-cli",children:"Command Line Interface (CLI)"}),"\n",(0,s.jsx)(n.p,{children:"The fastest way to generate and verify proofs locally."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"npm run prove -- input.json\nnpm run verify\nnpm run demo:soroban\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"./cli",children:"CLI Documentation \u2192"})}),"\n",(0,s.jsx)(n.h3,{id:"javascripttypescript-sdk-coming-soon",children:"JavaScript/TypeScript SDK (Coming Soon)"}),"\n",(0,s.jsx)(n.p,{children:"Programmatic proof generation for web and Node.js applications."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"import { KYCTransfer } from '@openzktool/sdk';\nconst proof = await KYCTransfer.generateProof(inputs);\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"./sdk",children:"SDK Documentation \u2192"})}),"\n",(0,s.jsx)(n.h3,{id:"soroban-smart-contract-api",children:"Soroban Smart Contract API"}),"\n",(0,s.jsx)(n.p,{children:"On-chain verification interface for Stellar smart contracts."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-rust",children:'let result: bool = env.invoke_contract(\n    &verifier_address,\n    &symbol_short!("verify"),\n    (&proof,).into_val(&env)\n);\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"./contract-api",children:"Contract API \u2192"})}),"\n",(0,s.jsx)(n.h3,{id:"rest-api-coming-soon",children:"REST API (Coming Soon)"}),"\n",(0,s.jsx)(n.p,{children:"HTTP endpoints for proof generation and verification services."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"POST /api/v1/proofs\nGET  /api/v1/proofs/{id}/verify\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"./rest-api",children:"REST API Documentation \u2192"})}),"\n",(0,s.jsx)(n.h2,{id:"quick-start",children:"Quick Start"}),"\n",(0,s.jsx)(n.h3,{id:"generate-a-proof",children:"Generate a Proof"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Using CLI:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'cd openzktool\n\n# Create input file\ncat > my_proof.json << EOF\n{\n  "age": "25",\n  "balance": "1000",\n  "country": "1",\n  "minAge": "18",\n  "maxAge": "99",\n  "minBalance": "100",\n  "allowedCountries": ["1", "2", "3", "0", "0", "0", "0", "0", "0", "0"]\n}\nEOF\n\n# Generate proof\nnpm run prove -- my_proof.json\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Output:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"circuits/build/proof.json"})," - The ZK proof"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"circuits/build/public.json"})," - Public inputs"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"verify-a-proof",children:"Verify a Proof"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Local verification:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"snarkjs groth16 verify \\\n  circuits/build/verification_key.json \\\n  circuits/build/public.json \\\n  circuits/build/proof.json\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"On-chain verification (Stellar Soroban):"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"npm run demo:soroban\n"})}),"\n",(0,s.jsx)(n.h2,{id:"api-patterns",children:"API Patterns"}),"\n",(0,s.jsx)(n.h3,{id:"pattern-1-client-side-generation",children:"Pattern 1: Client-Side Generation"}),"\n",(0,s.jsx)(n.p,{children:"Generate proofs in the browser for maximum privacy."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// User's browser\nconst proof = await generateProof({\n  age: 25,        // Never sent to server\n  balance: 1000,  // Stays on client\n  country: 1,     // Private\n  ...\n});\n\n// Submit only the proof\nawait fetch('/api/verify', {\n  method: 'POST',\n  body: JSON.stringify({ proof })\n});\n"})}),"\n",(0,s.jsx)(n.h3,{id:"pattern-2-server-side-generation",children:"Pattern 2: Server-Side Generation"}),"\n",(0,s.jsx)(n.p,{children:"Generate proofs on your backend for simpler UX."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// Your backend\napp.post('/generate-proof', async (req, res) => {\n  const { age, balance, country } = req.body;\n\n  const proof = await generateProof({\n    age,\n    balance,\n    country,\n    minAge: 18,\n    maxAge: 99,\n    minBalance: 100,\n    allowedCountries: [1, 2, 3, 0, 0, 0, 0, 0, 0, 0]\n  });\n\n  res.json({ proof });\n});\n"})}),"\n",(0,s.jsx)(n.h3,{id:"pattern-3-hybrid-approach",children:"Pattern 3: Hybrid Approach"}),"\n",(0,s.jsx)(n.p,{children:"Generate locally, verify both locally and on-chain."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// 1. Generate on client\nconst proof = await generateProof(privateData);\n\n// 2. Quick local verification\nconst localValid = await verifyLocally(proof);\n\n// 3. On-chain verification for consensus\nif (localValid) {\n  const onChainValid = await verifySoroban(proof);\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"common-parameters",children:"Common Parameters"}),"\n",(0,s.jsx)(n.p,{children:"All proof generation functions accept similar parameters:"}),"\n",(0,s.jsx)(n.h3,{id:"private-inputs-hidden",children:"Private Inputs (Hidden)"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Parameter"}),(0,s.jsx)(n.th,{children:"Type"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"age"})}),(0,s.jsx)(n.td,{children:"number/string"}),(0,s.jsx)(n.td,{children:"User's actual age"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"balance"})}),(0,s.jsx)(n.td,{children:"number/string"}),(0,s.jsx)(n.td,{children:"User's actual balance"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"country"})}),(0,s.jsx)(n.td,{children:"number/string"}),(0,s.jsx)(n.td,{children:"User's country ID"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"public-inputs-constraints",children:"Public Inputs (Constraints)"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Parameter"}),(0,s.jsx)(n.th,{children:"Type"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"minAge"})}),(0,s.jsx)(n.td,{children:"number/string"}),(0,s.jsx)(n.td,{children:"Minimum allowed age"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"maxAge"})}),(0,s.jsx)(n.td,{children:"number/string"}),(0,s.jsx)(n.td,{children:"Maximum allowed age"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"minBalance"})}),(0,s.jsx)(n.td,{children:"number/string"}),(0,s.jsx)(n.td,{children:"Minimum required balance"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"allowedCountries"})}),(0,s.jsx)(n.td,{children:"array[10]"}),(0,s.jsx)(n.td,{children:"Whitelisted country IDs"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"output",children:"Output"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Field"}),(0,s.jsx)(n.th,{children:"Type"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"proof"})}),(0,s.jsx)(n.td,{children:"object"}),(0,s.jsx)(n.td,{children:"Groth16 proof (pi_a, pi_b, pi_c)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"publicSignals"})}),(0,s.jsx)(n.td,{children:"array"}),(0,s.jsx)(n.td,{children:"Public outputs [kycValid]"})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"error-handling",children:"Error Handling"}),"\n",(0,s.jsx)(n.p,{children:"All APIs use consistent error codes:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Code"}),(0,s.jsx)(n.th,{children:"Description"}),(0,s.jsx)(n.th,{children:"Resolution"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"INVALID_INPUT"})}),(0,s.jsx)(n.td,{children:"Input doesn't satisfy constraints"}),(0,s.jsx)(n.td,{children:"Check min/max ranges"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"WITNESS_GENERATION_FAILED"})}),(0,s.jsx)(n.td,{children:"Circuit compilation error"}),(0,s.jsx)(n.td,{children:"Verify input format"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"PROOF_INVALID"})}),(0,s.jsx)(n.td,{children:"Verification failed"}),(0,s.jsx)(n.td,{children:"Regenerate proof"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"CONTRACT_ERROR"})}),(0,s.jsx)(n.td,{children:"Soroban contract issue"}),(0,s.jsx)(n.td,{children:"Check contract address"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"example-error-response",children:"Example Error Response"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "error": {\n    "code": "INVALID_INPUT",\n    "message": "Age 15 is below minimum 18",\n    "field": "age"\n  }\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"rate-limits-rest-api",children:"Rate Limits (REST API)"}),"\n",(0,s.jsx)(n.p,{children:"When using the hosted REST API:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Tier"}),(0,s.jsx)(n.th,{children:"Requests/min"}),(0,s.jsx)(n.th,{children:"Requests/day"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Free"}),(0,s.jsx)(n.td,{children:"10"}),(0,s.jsx)(n.td,{children:"1,000"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Developer"}),(0,s.jsx)(n.td,{children:"100"}),(0,s.jsx)(n.td,{children:"50,000"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Enterprise"}),(0,s.jsx)(n.td,{children:"Unlimited"}),(0,s.jsx)(n.td,{children:"Unlimited"})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"authentication-rest-api",children:"Authentication (REST API)"}),"\n",(0,s.jsx)(n.p,{children:"REST API endpoints require API keys:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'curl -X POST https://api.openzktool.com/v1/proofs \\\n  -H "Authorization: Bearer YOUR_API_KEY" \\\n  -H "Content-Type: application/json" \\\n  -d \'{"age": "25", ...}\'\n'})}),"\n",(0,s.jsx)(n.h2,{id:"versioning",children:"Versioning"}),"\n",(0,s.jsx)(n.p,{children:"OpenZKTool follows semantic versioning:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"CLI:"})," Current version in ",(0,s.jsx)(n.code,{children:"package.json"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"SDK:"})," ",(0,s.jsx)(n.code,{children:"@openzktool/sdk@1.x.x"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"REST API:"})," Versioned endpoints ",(0,s.jsx)(n.code,{children:"/api/v1/..."})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Smart Contracts:"})," Immutable on-chain"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"migration-guides",children:"Migration Guides"}),"\n",(0,s.jsx)(n.h3,{id:"upgrading-from-v0x-to-v1x",children:"Upgrading from v0.x to v1.x"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-diff",children:"- import { generateProof } from 'openzktool';\n+ import { KYCTransfer } from '@openzktool/sdk';\n\n- const proof = generateProof(inputs);\n+ const proof = await KYCTransfer.generateProof(inputs);\n"})}),"\n",(0,s.jsx)(n.h2,{id:"support--community",children:"Support & Community"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"GitHub Issues:"})," Bug reports and feature requests"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Discussions:"})," General questions and ideas"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Discord:"})," Real-time community support (coming soon)"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"./cli",children:"CLI Reference \u2192"})})," - Command line usage"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"./sdk",children:"SDK Documentation \u2192"})})," - JavaScript/TypeScript API"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"./contract-api",children:"Contract API \u2192"})})," - Soroban integration"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Questions?"})," ",(0,s.jsx)(n.a,{href:"https://github.com/xcapit/openzktool/discussions",children:"GitHub Discussions"})]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>o,x:()=>l});var i=r(6540);const s={},t=i.createContext(s);function o(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);