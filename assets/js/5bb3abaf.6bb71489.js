"use strict";(globalThis.webpackChunkdocs_site=globalThis.webpackChunkdocs_site||[]).push([[703],{7768:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"circuit-templates/overview","title":"Circuit Templates Overview","description":"OpenZKTool provides production-ready ZK circuit templates for common privacy-preserving use cases. These circuits are optimized for Stellar Soroban and thoroughly tested.","source":"@site/docs/circuit-templates/overview.md","sourceDirName":"circuit-templates","slug":"/circuit-templates/overview","permalink":"/openzktool/docs/circuit-templates/overview","draft":false,"unlisted":false,"editUrl":"https://github.com/xcapit/openzktool/tree/main/docs-site/docs/circuit-templates/overview.md","tags":[],"version":"current","sidebarPosition":0,"frontMatter":{"sidebar_position":0},"sidebar":"tutorialSidebar","previous":{"title":"Deploying Your Own Verifier","permalink":"/openzktool/docs/stellar-integration/deployment"},"next":{"title":"KYC Transfer Circuit","permalink":"/openzktool/docs/circuit-templates/kyc-transfer"}}');var s=n(4848),t=n(8453);const l={sidebar_position:0},o="Circuit Templates Overview",a={},c=[{value:"Available Templates",id:"available-templates",level:2},{value:"KYC Transfer Circuit",id:"kyc-transfer-circuit",level:3},{value:"Coming Soon",id:"coming-soon",level:2},{value:"Balance Proof Circuit",id:"balance-proof-circuit",level:3},{value:"Age Verification Circuit",id:"age-verification-circuit",level:3},{value:"Merkle Membership Proof",id:"merkle-membership-proof",level:3},{value:"How to Use Templates",id:"how-to-use-templates",level:2},{value:"1. Choose a Template",id:"1-choose-a-template",level:3},{value:"2. Customize Inputs",id:"2-customize-inputs",level:3},{value:"3. Generate Proofs",id:"3-generate-proofs",level:3},{value:"4. Verify on Stellar",id:"4-verify-on-stellar",level:3},{value:"Template Characteristics",id:"template-characteristics",level:2},{value:"Performance Comparison",id:"performance-comparison",level:2},{value:"Security Model",id:"security-model",level:2},{value:"What Templates Guarantee",id:"what-templates-guarantee",level:3},{value:"What You Must Ensure",id:"what-you-must-ensure",level:3},{value:"Customization",id:"customization",level:2},{value:"Integration Patterns",id:"integration-patterns",level:2},{value:"Pattern 1: Client-Side Proof Generation",id:"pattern-1-client-side-proof-generation",level:3},{value:"Pattern 2: Delegated Proving",id:"pattern-2-delegated-proving",level:3},{value:"Pattern 3: Hybrid Verification",id:"pattern-3-hybrid-verification",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"1. Always Verify On-Chain",id:"1-always-verify-on-chain",level:3},{value:"2. Cache Verification Keys",id:"2-cache-verification-keys",level:3},{value:"3. Handle Failures Gracefully",id:"3-handle-failures-gracefully",level:3},{value:"4. Test with Real Data",id:"4-test-with-real-data",level:3},{value:"5. Monitor Gas Costs",id:"5-monitor-gas-costs",level:3},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const i={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.header,{children:(0,s.jsx)(i.h1,{id:"circuit-templates-overview",children:"Circuit Templates Overview"})}),"\n",(0,s.jsx)(i.p,{children:"OpenZKTool provides production-ready ZK circuit templates for common privacy-preserving use cases. These circuits are optimized for Stellar Soroban and thoroughly tested."}),"\n",(0,s.jsx)(i.h2,{id:"available-templates",children:"Available Templates"}),"\n",(0,s.jsx)(i.h3,{id:"kyc-transfer-circuit",children:"KYC Transfer Circuit"}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.strong,{children:"Purpose:"})," Privacy-preserving identity verification for financial services."]}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.strong,{children:"Verifies:"})}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Age requirements (e.g., 18+ verification)"}),"\n",(0,s.jsx)(i.li,{children:"Balance thresholds (minimum holdings)"}),"\n",(0,s.jsx)(i.li,{children:"Geographic compliance (country whitelists)"}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.strong,{children:"Use Cases:"})}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"DeFi platform access control"}),"\n",(0,s.jsx)(i.li,{children:"Exchange KYC without storing PII"}),"\n",(0,s.jsx)(i.li,{children:"Age-gated services"}),"\n",(0,s.jsx)(i.li,{children:"Premium tier qualification"}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.a,{href:"./kyc-transfer",children:"Learn More \u2192"})}),"\n",(0,s.jsx)(i.h2,{id:"coming-soon",children:"Coming Soon"}),"\n",(0,s.jsx)(i.h3,{id:"balance-proof-circuit",children:"Balance Proof Circuit"}),"\n",(0,s.jsx)(i.p,{children:"Prove you have sufficient funds for a transaction without revealing your exact balance."}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.strong,{children:"Use Cases:"})}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"DEX order verification"}),"\n",(0,s.jsx)(i.li,{children:"Loan collateral proof"}),"\n",(0,s.jsx)(i.li,{children:"Solvency demonstrations"}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"age-verification-circuit",children:"Age Verification Circuit"}),"\n",(0,s.jsx)(i.p,{children:"Simplified circuit focused solely on age verification (optimized for lower constraints)."}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.strong,{children:"Use Cases:"})}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Content access control"}),"\n",(0,s.jsx)(i.li,{children:"Service eligibility checks"}),"\n",(0,s.jsx)(i.li,{children:"Legal compliance"}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"merkle-membership-proof",children:"Merkle Membership Proof"}),"\n",(0,s.jsx)(i.p,{children:"Prove you're part of an allowed set without revealing your identity."}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.strong,{children:"Use Cases:"})}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Whitelist verification"}),"\n",(0,s.jsx)(i.li,{children:"Airdrop eligibility"}),"\n",(0,s.jsx)(i.li,{children:"Access control lists"}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"how-to-use-templates",children:"How to Use Templates"}),"\n",(0,s.jsx)(i.h3,{id:"1-choose-a-template",children:"1. Choose a Template"}),"\n",(0,s.jsx)(i.p,{children:"Select the template that matches your use case from the list above."}),"\n",(0,s.jsx)(i.h3,{id:"2-customize-inputs",children:"2. Customize Inputs"}),"\n",(0,s.jsx)(i.p,{children:"Each template has configurable public constraints:"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-json",children:'{\n  "minAge": "18",        // Adjust requirements\n  "minBalance": "1000",  // Set thresholds\n  "allowedCountries": [1, 2, 3, ...]  // Define whitelists\n}\n'})}),"\n",(0,s.jsx)(i.h3,{id:"3-generate-proofs",children:"3. Generate Proofs"}),"\n",(0,s.jsx)(i.p,{children:"Use the OpenZKTool CLI or SDK:"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-bash",children:"# CLI\nnpm run prove -- your_input.json\n\n# Or use the SDK (coming soon)\nimport { KYCTransfer } from '@openzktool/sdk';\nconst proof = await KYCTransfer.generateProof(inputs);\n"})}),"\n",(0,s.jsx)(i.h3,{id:"4-verify-on-stellar",children:"4. Verify on Stellar"}),"\n",(0,s.jsx)(i.p,{children:"Submit proofs to the deployed Soroban verifier:"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-rust",children:'let verifier = "CBPBVJJW5NMV4UVEDKSR6UO4DRBNWRQEMYKRYZI3CW6YK3O7HAZA43OI";\nlet result: bool = env.invoke_contract(&verifier, &symbol_short!("verify"), (&proof,));\n'})}),"\n",(0,s.jsx)(i.h2,{id:"template-characteristics",children:"Template Characteristics"}),"\n",(0,s.jsx)(i.p,{children:"All circuit templates share these properties:"}),"\n",(0,s.jsxs)(i.table,{children:[(0,s.jsx)(i.thead,{children:(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.th,{children:"Feature"}),(0,s.jsx)(i.th,{children:"Details"})]})}),(0,s.jsxs)(i.tbody,{children:[(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.strong,{children:"Proof System"})}),(0,s.jsx)(i.td,{children:"Groth16 on BN254 curve"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.strong,{children:"Proof Size"})}),(0,s.jsx)(i.td,{children:"Constant 800 bytes"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.strong,{children:"Security Level"})}),(0,s.jsx)(i.td,{children:"128-bit"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.strong,{children:"Verification Time"})}),(0,s.jsx)(i.td,{children:"< 50ms off-chain, ~200ms on Soroban"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.strong,{children:"Zero-Knowledge"})}),(0,s.jsx)(i.td,{children:"Full - no data leakage"})]})]})]}),"\n",(0,s.jsx)(i.h2,{id:"performance-comparison",children:"Performance Comparison"}),"\n",(0,s.jsxs)(i.table,{children:[(0,s.jsx)(i.thead,{children:(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.th,{children:"Template"}),(0,s.jsx)(i.th,{children:"Constraints"}),(0,s.jsx)(i.th,{children:"Proof Time"}),(0,s.jsx)(i.th,{children:"On-chain Gas"})]})}),(0,s.jsxs)(i.tbody,{children:[(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:"KYC Transfer"}),(0,s.jsx)(i.td,{children:"~1,200"}),(0,s.jsx)(i.td,{children:"< 1s"}),(0,s.jsx)(i.td,{children:"~200k ops"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:"Balance Proof"}),(0,s.jsx)(i.td,{children:"~800"}),(0,s.jsx)(i.td,{children:"< 0.5s"}),(0,s.jsx)(i.td,{children:"~150k ops"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:"Age Verification"}),(0,s.jsx)(i.td,{children:"~400"}),(0,s.jsx)(i.td,{children:"< 0.3s"}),(0,s.jsx)(i.td,{children:"~100k ops"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:"Merkle Membership"}),(0,s.jsx)(i.td,{children:"~2,500"}),(0,s.jsx)(i.td,{children:"< 2s"}),(0,s.jsx)(i.td,{children:"~300k ops"})]})]})]}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.em,{children:"Benchmarks on Intel i7, 16GB RAM"})}),"\n",(0,s.jsx)(i.h2,{id:"security-model",children:"Security Model"}),"\n",(0,s.jsx)(i.h3,{id:"what-templates-guarantee",children:"What Templates Guarantee"}),"\n",(0,s.jsxs)(i.p,{children:["\u2705 ",(0,s.jsx)(i.strong,{children:"Soundness:"})," Impossible to create fake proofs\n\u2705 ",(0,s.jsx)(i.strong,{children:"Zero-Knowledge:"})," No information leaked beyond validity\n\u2705 ",(0,s.jsx)(i.strong,{children:"Completeness:"})," Valid inputs always produce valid proofs"]}),"\n",(0,s.jsx)(i.h3,{id:"what-you-must-ensure",children:"What You Must Ensure"}),"\n",(0,s.jsxs)(i.p,{children:["\u26a0\ufe0f ",(0,s.jsx)(i.strong,{children:"Trusted Setup:"})," Use production ceremony keys (not test keys)\n\u26a0\ufe0f ",(0,s.jsx)(i.strong,{children:"Input Validation:"})," Sanitize private inputs before proof generation\n\u26a0\ufe0f ",(0,s.jsx)(i.strong,{children:"Key Management:"})," Securely store proving keys"]}),"\n",(0,s.jsx)(i.h2,{id:"customization",children:"Customization"}),"\n",(0,s.jsx)(i.p,{children:"Need something different? Templates are designed to be modified:"}),"\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Fork the circuit"})," - Clone and adapt to your needs"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Adjust constraints"})," - Change ranges, add conditions"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Regenerate keys"})," - Run your own trusted setup"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Deploy verifier"})," - Export Soroban contract"]}),"\n"]}),"\n",(0,s.jsxs)(i.p,{children:["See ",(0,s.jsx)(i.a,{href:"../advanced/custom-circuits",children:"Custom Circuits \u2192"})," for a detailed guide."]}),"\n",(0,s.jsx)(i.h2,{id:"integration-patterns",children:"Integration Patterns"}),"\n",(0,s.jsx)(i.h3,{id:"pattern-1-client-side-proof-generation",children:"Pattern 1: Client-Side Proof Generation"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-typescript",children:"// User's device generates proof\nconst proof = await generateProof(privateData);\n\n// Submit to your backend\nawait api.post('/verify', { proof });\n\n// Backend verifies on Stellar\nconst valid = await sorobanVerifier.verify(proof);\n"})}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.strong,{children:"Benefits:"})}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Private data never leaves user's device"}),"\n",(0,s.jsx)(i.li,{children:"Backend doesn't need to handle sensitive info"}),"\n",(0,s.jsx)(i.li,{children:"Fully privacy-preserving"}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"pattern-2-delegated-proving",children:"Pattern 2: Delegated Proving"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-typescript",children:"// Backend generates proof on behalf of user\nconst proof = await generateProof(userData);\n\n// Immediately verify\nconst valid = await sorobanVerifier.verify(proof);\n\n// Discard private data\ndelete userData;\n"})}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.strong,{children:"Benefits:"})}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Simpler UX (no client-side computation)"}),"\n",(0,s.jsx)(i.li,{children:"Faster for mobile users"}),"\n",(0,s.jsx)(i.li,{children:"Centralized control"}),"\n"]}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.strong,{children:"Trade-off:"})," Requires trusting the backend with private data."]}),"\n",(0,s.jsx)(i.h3,{id:"pattern-3-hybrid-verification",children:"Pattern 3: Hybrid Verification"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-typescript",children:"// Generate proof locally\nconst proof = await generateProof(privateData);\n\n// Verify locally first (instant feedback)\nconst localValid = await localVerifier.verify(proof);\n\n// Then verify on-chain (for consensus)\nif (localValid) {\n  const onChainValid = await sorobanVerifier.verify(proof);\n}\n"})}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.strong,{children:"Benefits:"})}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Instant feedback for users"}),"\n",(0,s.jsx)(i.li,{children:"On-chain proof for auditing"}),"\n",(0,s.jsx)(i.li,{children:"Gas savings (skip invalid proofs)"}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,s.jsx)(i.h3,{id:"1-always-verify-on-chain",children:"1. Always Verify On-Chain"}),"\n",(0,s.jsx)(i.p,{children:"Local verification is fast but not trustless. For security-critical operations, always verify on Stellar Soroban."}),"\n",(0,s.jsx)(i.h3,{id:"2-cache-verification-keys",children:"2. Cache Verification Keys"}),"\n",(0,s.jsx)(i.p,{children:"Verification keys are ~1KB and immutable. Cache them to avoid repeated network requests."}),"\n",(0,s.jsx)(i.h3,{id:"3-handle-failures-gracefully",children:"3. Handle Failures Gracefully"}),"\n",(0,s.jsx)(i.p,{children:"Proof generation can fail if inputs don't satisfy constraints. Provide clear error messages to users."}),"\n",(0,s.jsx)(i.h3,{id:"4-test-with-real-data",children:"4. Test with Real Data"}),"\n",(0,s.jsx)(i.p,{children:"Use realistic test cases that match your production scenarios."}),"\n",(0,s.jsx)(i.h3,{id:"5-monitor-gas-costs",children:"5. Monitor Gas Costs"}),"\n",(0,s.jsx)(i.p,{children:"Soroban gas costs can vary. Monitor and optimize your verification flow."}),"\n",(0,s.jsx)(i.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:(0,s.jsx)(i.a,{href:"./kyc-transfer",children:"KYC Transfer Circuit \u2192"})})," - Detailed template guide"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:(0,s.jsx)(i.a,{href:"../stellar-integration/overview",children:"Stellar Integration \u2192"})})," - Deploy verifier contracts"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:(0,s.jsx)(i.a,{href:"../advanced/custom-circuits",children:"Custom Circuits \u2192"})})," - Build your own"]}),"\n"]}),"\n",(0,s.jsx)(i.hr,{}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.strong,{children:"Need help?"})," ",(0,s.jsx)(i.a,{href:"https://github.com/xcapit/openzktool/discussions",children:"Ask on GitHub Discussions"})]})]})}function h(e={}){const{wrapper:i}={...(0,t.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,i,n)=>{n.d(i,{R:()=>l,x:()=>o});var r=n(6540);const s={},t=r.createContext(s);function l(e){const i=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function o(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),r.createElement(t.Provider,{value:i},e.children)}}}]);