"use strict";(globalThis.webpackChunkdocs_site=globalThis.webpackChunkdocs_site||[]).push([[899],{2789:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>p,frontMatter:()=>t,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"api-reference/sdk","title":"SDK Reference","description":"Complete JavaScript/TypeScript SDK for integrating OpenZKTool into your applications.","source":"@site/docs/api-reference/sdk.md","sourceDirName":"api-reference","slug":"/api-reference/sdk","permalink":"/openzktool/docs/api-reference/sdk","draft":false,"unlisted":false,"editUrl":"https://github.com/xcapit/openzktool/tree/main/docs-site/docs/api-reference/sdk.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"API Reference Overview","permalink":"/openzktool/docs/api-reference/overview"},"next":{"title":"Command Line Interface","permalink":"/openzktool/docs/api-reference/cli"}}');var o=r(4848),s=r(8453);const t={sidebar_position:2},a="SDK Reference",c={},l=[{value:"Installation",id:"installation",level:2},{value:"Quick Start",id:"quick-start",level:2},{value:"Core API",id:"core-api",level:2},{value:"ProofGenerator",id:"proofgenerator",level:3},{value:"Constructor",id:"constructor",level:4},{value:"generate()",id:"generate",level:4},{value:"generateWitness()",id:"generatewitness",level:4},{value:"ProofVerifier",id:"proofverifier",level:3},{value:"Constructor",id:"constructor-1",level:4},{value:"verify()",id:"verify",level:4},{value:"verifyWithPublicInputs()",id:"verifywithpublicinputs",level:4},{value:"SorobanVerifier",id:"sorobanverifier",level:3},{value:"Constructor",id:"constructor-2",level:4},{value:"verify()",id:"verify-1",level:4},{value:"submit()",id:"submit",level:4},{value:"getContractInfo()",id:"getcontractinfo",level:4},{value:"Advanced Usage",id:"advanced-usage",level:2},{value:"Custom Circuits",id:"custom-circuits",level:3},{value:"Batch Proof Generation",id:"batch-proof-generation",level:3},{value:"Error Handling",id:"error-handling",level:3},{value:"React Integration",id:"react-integration",level:3},{value:"Node.js Backend",id:"nodejs-backend",level:3},{value:"TypeScript Types",id:"typescript-types",level:2},{value:"Performance Optimization",id:"performance-optimization",level:2},{value:"Preload WASM",id:"preload-wasm",level:3},{value:"Proof Caching",id:"proof-caching",level:3},{value:"Testing",id:"testing",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Common Issues",id:"common-issues",level:3},{value:"API Limits",id:"api-limits",level:2},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"sdk-reference",children:"SDK Reference"})}),"\n",(0,o.jsx)(n.p,{children:"Complete JavaScript/TypeScript SDK for integrating OpenZKTool into your applications."}),"\n",(0,o.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"npm install openzktool\n"})}),"\n",(0,o.jsx)(n.p,{children:"Or with yarn:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"yarn add openzktool\n"})}),"\n",(0,o.jsx)(n.h2,{id:"quick-start",children:"Quick Start"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"import { ProofGenerator, ProofVerifier } from 'openzktool';\n\n// Generate a proof\nconst generator = new ProofGenerator();\nconst proof = await generator.generate({\n  age: 25,\n  balance: 1000,\n  country: 1,\n  minAge: 18,\n  maxAge: 99,\n  minBalance: 100,\n  allowedCountries: [1, 2, 3, 0, 0, 0, 0, 0, 0, 0]\n});\n\n// Verify locally\nconst verifier = new ProofVerifier();\nconst isValid = await verifier.verify(proof);\nconsole.log('Proof valid:', isValid);\n"})}),"\n",(0,o.jsx)(n.h2,{id:"core-api",children:"Core API"}),"\n",(0,o.jsx)(n.h3,{id:"proofgenerator",children:"ProofGenerator"}),"\n",(0,o.jsx)(n.p,{children:"Generate zero-knowledge proofs from input data."}),"\n",(0,o.jsx)(n.h4,{id:"constructor",children:"Constructor"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"new ProofGenerator(options?: GeneratorOptions)\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Options:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"interface GeneratorOptions {\n  wasmPath?: string;        // Path to circuit WASM file\n  zkeyPath?: string;        // Path to proving key\n  verbose?: boolean;        // Enable detailed logging\n}\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Example:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"const generator = new ProofGenerator({\n  wasmPath: './circuits/build/kyc_transfer.wasm',\n  zkeyPath: './circuits/build/kyc_transfer_final.zkey',\n  verbose: true\n});\n"})}),"\n",(0,o.jsx)(n.h4,{id:"generate",children:"generate()"}),"\n",(0,o.jsx)(n.p,{children:"Generate a proof from input data."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"async generate(input: CircuitInput): Promise<Proof>\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"interface CircuitInput {\n  // Private inputs\n  age: number;\n  balance: number;\n  country: number;\n\n  // Public inputs\n  minAge: number;\n  maxAge: number;\n  minBalance: number;\n  allowedCountries: number[];  // Array of 10 country codes\n}\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:'interface Proof {\n  proof: {\n    pi_a: string[];      // G1 point [x, y]\n    pi_b: string[][];    // G2 point [[x1, x2], [y1, y2]]\n    pi_c: string[];      // G1 point [x, y]\n    protocol: string;    // "groth16"\n    curve: string;       // "bn128"\n  };\n  publicSignals: string[];  // Public outputs [kycValid]\n}\n'})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Example:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"try {\n  const proof = await generator.generate({\n    age: 25,\n    balance: 1000,\n    country: 1,\n    minAge: 18,\n    maxAge: 99,\n    minBalance: 100,\n    allowedCountries: [1, 2, 3, 0, 0, 0, 0, 0, 0, 0]\n  });\n\n  console.log('KYC Valid:', proof.publicSignals[0] === '1');\n  console.log('Proof size:', JSON.stringify(proof).length, 'bytes');\n} catch (error) {\n  console.error('Proof generation failed:', error);\n}\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Throws:"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"Error"})," - If witness generation fails (constraint violation)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"Error"})," - If WASM or zkey files are missing"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"Error"})," - If input format is invalid"]}),"\n"]}),"\n",(0,o.jsx)(n.h4,{id:"generatewitness",children:"generateWitness()"}),"\n",(0,o.jsx)(n.p,{children:"Generate witness without computing proof (useful for debugging)."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"async generateWitness(input: CircuitInput): Promise<Uint8Array>\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Example:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"const witness = await generator.generateWitness({\n  age: 25,\n  balance: 1000,\n  country: 1,\n  minAge: 18,\n  maxAge: 99,\n  minBalance: 100,\n  allowedCountries: [1, 2, 3, 0, 0, 0, 0, 0, 0, 0]\n});\n\nconsole.log('Witness generated:', witness.length, 'bytes');\n"})}),"\n",(0,o.jsx)(n.h3,{id:"proofverifier",children:"ProofVerifier"}),"\n",(0,o.jsx)(n.p,{children:"Verify zero-knowledge proofs locally (off-chain)."}),"\n",(0,o.jsx)(n.h4,{id:"constructor-1",children:"Constructor"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"new ProofVerifier(options?: VerifierOptions)\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Options:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"interface VerifierOptions {\n  vkeyPath?: string;    // Path to verification key\n  verbose?: boolean;    // Enable detailed logging\n}\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Example:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"const verifier = new ProofVerifier({\n  vkeyPath: './circuits/build/verification_key.json',\n  verbose: true\n});\n"})}),"\n",(0,o.jsx)(n.h4,{id:"verify",children:"verify()"}),"\n",(0,o.jsx)(n.p,{children:"Verify a proof against public inputs."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"async verify(proof: Proof): Promise<boolean>\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Example:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"const isValid = await verifier.verify(proof);\n\nif (isValid) {\n  console.log('\u2713 Proof is valid');\n  console.log('\u2713 User meets KYC requirements');\n} else {\n  console.log('\u2717 Proof is invalid');\n}\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"true"})," - Proof is valid"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"false"})," - Proof is invalid or malformed"]}),"\n"]}),"\n",(0,o.jsx)(n.h4,{id:"verifywithpublicinputs",children:"verifyWithPublicInputs()"}),"\n",(0,o.jsx)(n.p,{children:"Verify proof with explicit public inputs."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"async verifyWithPublicInputs(\n  proof: ProofData,\n  publicInputs: string[]\n): Promise<boolean>\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Example:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"const isValid = await verifier.verifyWithPublicInputs(\n  proof.proof,\n  ['1']  // kycValid = 1\n);\n"})}),"\n",(0,o.jsx)(n.h3,{id:"sorobanverifier",children:"SorobanVerifier"}),"\n",(0,o.jsx)(n.p,{children:"Verify proofs on Stellar Soroban (on-chain)."}),"\n",(0,o.jsx)(n.h4,{id:"constructor-2",children:"Constructor"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"new SorobanVerifier(options: SorobanOptions)\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Options:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"interface SorobanOptions {\n  contractId: string;          // Contract address\n  network: 'testnet' | 'mainnet';\n  rpcUrl?: string;            // Custom RPC endpoint\n  secretKey?: string;         // Stellar secret key (for transactions)\n}\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Example:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"import { SorobanVerifier } from 'openzktool';\n\nconst verifier = new SorobanVerifier({\n  contractId: 'CBPBVJJW5NMV4UVEDKSR6UO4DRBNWRQEMYKRYZI3CW6YK3O7HAZA43OI',\n  network: 'testnet',\n  secretKey: 'SXXX...'  // Optional, required for submit()\n});\n"})}),"\n",(0,o.jsx)(n.h4,{id:"verify-1",children:"verify()"}),"\n",(0,o.jsx)(n.p,{children:"Verify proof on Soroban (read-only simulation)."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"async verify(proof: Proof): Promise<boolean>\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Example:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"const isValid = await verifier.verify(proof);\nconsole.log('On-chain verification:', isValid);\n"})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Cost:"})," Free (simulation only, no transaction fees)"]}),"\n",(0,o.jsx)(n.h4,{id:"submit",children:"submit()"}),"\n",(0,o.jsx)(n.p,{children:"Submit proof to blockchain and get transaction result."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"async submit(proof: Proof): Promise<TransactionResult>\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"interface TransactionResult {\n  success: boolean;\n  txHash: string;\n  ledger: number;\n  result: boolean;      // Verification result\n  cost: {\n    fee: number;        // Fee in stroops\n    operations: number; // CPU operations\n  };\n}\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Example:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"try {\n  const result = await verifier.submit(proof);\n\n  console.log('Transaction:', result.txHash);\n  console.log('Verification result:', result.result);\n  console.log('Fee paid:', result.cost.fee / 1e7, 'XLM');\n  console.log('Explorer:', `https://stellar.expert/explorer/testnet/tx/${result.txHash}`);\n} catch (error) {\n  console.error('Submission failed:', error);\n}\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Throws:"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"Error"})," - If secretKey is not provided"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"Error"})," - If account has insufficient XLM"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"Error"})," - If transaction fails"]}),"\n"]}),"\n",(0,o.jsx)(n.h4,{id:"getcontractinfo",children:"getContractInfo()"}),"\n",(0,o.jsx)(n.p,{children:"Get information about the deployed contract."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"async getContractInfo(): Promise<ContractInfo>\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"interface ContractInfo {\n  contractId: string;\n  wasmHash: string;\n  network: string;\n  publicKey: string;\n}\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Example:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"const info = await verifier.getContractInfo();\nconsole.log('Contract ID:', info.contractId);\nconsole.log('WASM hash:', info.wasmHash);\n"})}),"\n",(0,o.jsx)(n.h2,{id:"advanced-usage",children:"Advanced Usage"}),"\n",(0,o.jsx)(n.h3,{id:"custom-circuits",children:"Custom Circuits"}),"\n",(0,o.jsx)(n.p,{children:"Use the SDK with your own custom circuits:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"import { ProofGenerator } from 'openzktool';\n\nconst generator = new ProofGenerator({\n  wasmPath: './my_circuit.wasm',\n  zkeyPath: './my_circuit_final.zkey'\n});\n\nconst proof = await generator.generate({\n  // Your circuit inputs\n  creditScore: 750,\n  minScore: 700\n});\n"})}),"\n",(0,o.jsx)(n.h3,{id:"batch-proof-generation",children:"Batch Proof Generation"}),"\n",(0,o.jsx)(n.p,{children:"Generate multiple proofs in parallel:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"const inputs = [\n  { age: 25, balance: 1000, country: 1, ... },\n  { age: 30, balance: 2000, country: 2, ... },\n  { age: 35, balance: 3000, country: 3, ... }\n];\n\nconst proofs = await Promise.all(\n  inputs.map(input => generator.generate(input))\n);\n\nconsole.log(`Generated ${proofs.length} proofs`);\n"})}),"\n",(0,o.jsx)(n.h3,{id:"error-handling",children:"Error Handling"}),"\n",(0,o.jsx)(n.p,{children:"Comprehensive error handling:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"import { ProofGenerator, ProofError } from 'openzktool';\n\ntry {\n  const proof = await generator.generate(input);\n} catch (error) {\n  if (error instanceof ProofError) {\n    switch (error.code) {\n      case 'CONSTRAINT_VIOLATION':\n        console.error('Input violates circuit constraints');\n        console.error('Details:', error.constraint);\n        break;\n      case 'INVALID_INPUT':\n        console.error('Invalid input format');\n        break;\n      case 'MISSING_FILES':\n        console.error('Circuit files not found');\n        console.error('Missing:', error.files);\n        break;\n      default:\n        console.error('Unknown error:', error.message);\n    }\n  }\n}\n"})}),"\n",(0,o.jsx)(n.h3,{id:"react-integration",children:"React Integration"}),"\n",(0,o.jsx)(n.p,{children:"Use OpenZKTool in React applications:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"import { useState } from 'react';\nimport { ProofGenerator } from 'openzktool';\n\nfunction KYCVerification() {\n  const [proof, setProof] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  const generateProof = async () => {\n    setLoading(true);\n    try {\n      const generator = new ProofGenerator();\n      const result = await generator.generate({\n        age: 25,\n        balance: 1000,\n        country: 1,\n        minAge: 18,\n        maxAge: 99,\n        minBalance: 100,\n        allowedCountries: [1, 2, 3, 0, 0, 0, 0, 0, 0, 0]\n      });\n      setProof(result);\n    } catch (error) {\n      console.error('Failed:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div>\n      <button onClick={generateProof} disabled={loading}>\n        {loading ? 'Generating...' : 'Generate Proof'}\n      </button>\n      {proof && <p>KYC Valid: {proof.publicSignals[0] === '1' ? '\u2713' : '\u2717'}</p>}\n    </div>\n  );\n}\n"})}),"\n",(0,o.jsx)(n.h3,{id:"nodejs-backend",children:"Node.js Backend"}),"\n",(0,o.jsx)(n.p,{children:"Use in Express.js API:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"import express from 'express';\nimport { ProofGenerator, SorobanVerifier } from 'openzktool';\n\nconst app = express();\napp.use(express.json());\n\nconst generator = new ProofGenerator();\nconst verifier = new SorobanVerifier({\n  contractId: 'CBPBVJJW5NMV4UVEDKSR6UO4DRBNWRQEMYKRYZI3CW6YK3O7HAZA43OI',\n  network: 'testnet'\n});\n\napp.post('/api/verify-kyc', async (req, res) => {\n  try {\n    // Generate proof (never expose private data!)\n    const proof = await generator.generate(req.body);\n\n    // Verify on Soroban\n    const isValid = await verifier.verify(proof);\n\n    res.json({\n      success: true,\n      kycValid: isValid,\n      proof: proof  // Share proof with user\n    });\n  } catch (error) {\n    res.status(400).json({ error: error.message });\n  }\n});\n\napp.listen(3000, () => {\n  console.log('API running on port 3000');\n});\n"})}),"\n",(0,o.jsx)(n.h2,{id:"typescript-types",children:"TypeScript Types"}),"\n",(0,o.jsx)(n.p,{children:"Full TypeScript definitions are included:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"import type {\n  CircuitInput,\n  Proof,\n  ProofData,\n  TransactionResult,\n  GeneratorOptions,\n  VerifierOptions,\n  SorobanOptions,\n  ContractInfo\n} from 'openzktool';\n"})}),"\n",(0,o.jsx)(n.h2,{id:"performance-optimization",children:"Performance Optimization"}),"\n",(0,o.jsx)(n.h3,{id:"preload-wasm",children:"Preload WASM"}),"\n",(0,o.jsx)(n.p,{children:"Preload circuit WASM for faster proof generation:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"const generator = new ProofGenerator();\n\n// Preload WASM (call once at startup)\nawait generator.preload();\n\n// Subsequent proofs are faster\nconst proof1 = await generator.generate(input1);  // ~100ms\nconst proof2 = await generator.generate(input2);  // ~50ms\n"})}),"\n",(0,o.jsx)(n.h3,{id:"proof-caching",children:"Proof Caching"}),"\n",(0,o.jsx)(n.p,{children:"Cache proofs for identical inputs:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"import crypto from 'crypto';\n\nconst proofCache = new Map();\n\nfunction getProofCacheKey(input: CircuitInput): string {\n  return crypto.createHash('sha256')\n    .update(JSON.stringify(input))\n    .digest('hex');\n}\n\nasync function generateCachedProof(input: CircuitInput): Promise<Proof> {\n  const cacheKey = getProofCacheKey(input);\n\n  if (proofCache.has(cacheKey)) {\n    return proofCache.get(cacheKey);\n  }\n\n  const proof = await generator.generate(input);\n  proofCache.set(cacheKey, proof);\n  return proof;\n}\n"})}),"\n",(0,o.jsx)(n.h2,{id:"testing",children:"Testing"}),"\n",(0,o.jsx)(n.p,{children:"Write tests for your ZK integrations:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"import { ProofGenerator, ProofVerifier } from 'openzktool';\nimport { describe, it, expect } from 'vitest';\n\ndescribe('KYC Proof Generation', () => {\n  const generator = new ProofGenerator();\n  const verifier = new ProofVerifier();\n\n  it('should generate valid proof for eligible user', async () => {\n    const proof = await generator.generate({\n      age: 25,\n      balance: 1000,\n      country: 1,\n      minAge: 18,\n      maxAge: 99,\n      minBalance: 100,\n      allowedCountries: [1, 2, 3, 0, 0, 0, 0, 0, 0, 0]\n    });\n\n    expect(proof.publicSignals[0]).toBe('1');  // kycValid = 1\n\n    const isValid = await verifier.verify(proof);\n    expect(isValid).toBe(true);\n  });\n\n  it('should reject underage user', async () => {\n    const proof = await generator.generate({\n      age: 16,  // Below minimum\n      balance: 1000,\n      country: 1,\n      minAge: 18,\n      maxAge: 99,\n      minBalance: 100,\n      allowedCountries: [1, 2, 3, 0, 0, 0, 0, 0, 0, 0]\n    });\n\n    expect(proof.publicSignals[0]).toBe('0');  // kycValid = 0\n  });\n});\n"})}),"\n",(0,o.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,o.jsx)(n.h3,{id:"common-issues",children:"Common Issues"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:'"WASM file not found"'})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"// Explicitly specify paths\nconst generator = new ProofGenerator({\n  wasmPath: path.resolve(__dirname, '../circuits/build/kyc_transfer.wasm'),\n  zkeyPath: path.resolve(__dirname, '../circuits/build/kyc_transfer_final.zkey')\n});\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:'"Invalid witness"'})}),"\n",(0,o.jsx)(n.p,{children:"Check that inputs satisfy constraints:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"// Age must be in range [minAge, maxAge]\n// Balance must be >= minBalance\n// Country must be in allowedCountries array\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:'"Out of memory"'})}),"\n",(0,o.jsx)(n.p,{children:"Increase Node.js heap size:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'NODE_OPTIONS="--max-old-space-size=4096" node your-app.js\n'})}),"\n",(0,o.jsx)(n.h2,{id:"api-limits",children:"API Limits"}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Operation"}),(0,o.jsx)(n.th,{children:"Rate Limit"}),(0,o.jsx)(n.th,{children:"Notes"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Proof generation"}),(0,o.jsx)(n.td,{children:"Unlimited"}),(0,o.jsx)(n.td,{children:"CPU-bound, local computation"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Local verification"}),(0,o.jsx)(n.td,{children:"Unlimited"}),(0,o.jsx)(n.td,{children:"CPU-bound, local computation"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Soroban simulation"}),(0,o.jsx)(n.td,{children:"10/sec"}),(0,o.jsx)(n.td,{children:"Testnet RPC limit"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Soroban submission"}),(0,o.jsx)(n.td,{children:"1/sec"}),(0,o.jsx)(n.td,{children:"Recommended for testnet"})]})]})]}),"\n",(0,o.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.a,{href:"./cli",children:"CLI Reference \u2192"})})," - Command-line tools"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.a,{href:"./contract-api",children:"Contract API \u2192"})})," - Soroban integration"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.a,{href:"../examples",children:"Examples \u2192"})})," - Code samples"]}),"\n"]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Questions?"})," ",(0,o.jsx)(n.a,{href:"https://github.com/xcapit/openzktool/discussions",children:"GitHub Discussions"})]})]})}function p(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>t,x:()=>a});var i=r(6540);const o={},s=i.createContext(o);function t(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:t(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);