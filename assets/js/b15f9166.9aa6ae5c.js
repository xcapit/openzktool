"use strict";(globalThis.webpackChunkdocs_site=globalThis.webpackChunkdocs_site||[]).push([[475],{6272:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>u,frontMatter:()=>c,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"core-concepts/architecture","title":"Architecture","description":"How OpenZKTool implements zero-knowledge proofs on Stellar Soroban","source":"@site/docs/core-concepts/architecture.md","sourceDirName":"core-concepts","slug":"/core-concepts/architecture","permalink":"/openzktool/docs/core-concepts/architecture","draft":false,"unlisted":false,"editUrl":"https://github.com/xcapit/openzktool/tree/main/docs-site/docs/core-concepts/architecture.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Privacy on Stellar","permalink":"/openzktool/docs/core-concepts/privacy-on-stellar"},"next":{"title":"Quick Start","permalink":"/openzktool/docs/getting-started/quick-start"}}');var t=i(4848),s=i(8453);const c={sidebar_position:3},l="Architecture",o={},a=[{value:"System Overview",id:"system-overview",level:2},{value:"Three-Layer Design",id:"three-layer-design",level:2},{value:"1. Circuit Layer (Off-Chain)",id:"1-circuit-layer-off-chain",level:3},{value:"2. Proof Generation Layer (Client-Side)",id:"2-proof-generation-layer-client-side",level:3},{value:"3. Verification Layer (Stellar Soroban)",id:"3-verification-layer-stellar-soroban",level:3},{value:"Groth16 Verification Algorithm",id:"groth16-verification-algorithm",level:2},{value:"Step 1: Parse Verification Key",id:"step-1-parse-verification-key",level:3},{value:"Step 2: Compute IC Sum",id:"step-2-compute-ic-sum",level:3},{value:"Step 3: Pairing Check",id:"step-3-pairing-check",level:3},{value:"BN254 Curve Implementation",id:"bn254-curve-implementation",level:2},{value:"Field Arithmetic",id:"field-arithmetic",level:3},{value:"Elliptic Curve Groups",id:"elliptic-curve-groups",level:3},{value:"Optimal Ate Pairing",id:"optimal-ate-pairing",level:3},{value:"Performance Characteristics",id:"performance-characteristics",level:2},{value:"Deployment Flow",id:"deployment-flow",level:2},{value:"Security Considerations",id:"security-considerations",level:2},{value:"Trusted Setup",id:"trusted-setup",level:3},{value:"Contract Security",id:"contract-security",level:3},{value:"Circuit Constraints",id:"circuit-constraints",level:3},{value:"Live Deployment",id:"live-deployment",level:2},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"architecture",children:"Architecture"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"How OpenZKTool implements zero-knowledge proofs on Stellar Soroban"})}),"\n",(0,t.jsx)(n.h2,{id:"system-overview",children:"System Overview"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                     OpenZKTool Architecture                     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n  \u2502  Off-Chain   \u2502         \u2502   Stellar    \u2502        \u2502  On-Chain  \u2502\n  \u2502  (Client)    \u2502   \u2500\u2500\u2500>  \u2502   Network    \u2502  \u2500\u2500\u2500>  \u2502  (Soroban) \u2502\n  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518        \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502                        \u2502                       \u2502\n         \u2502                        \u2502                       \u2502\n    \u250c\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2510              \u250c\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2510            \u250c\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2510\n    \u2502 Circuit \u2502              \u2502  Proof  \u2502            \u2502Verifier \u2502\n    \u2502Compiler \u2502              \u2502  (800B) \u2502            \u2502Contract \u2502\n    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518            \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,t.jsx)(n.h2,{id:"three-layer-design",children:"Three-Layer Design"}),"\n",(0,t.jsx)(n.h3,{id:"1-circuit-layer-off-chain",children:"1. Circuit Layer (Off-Chain)"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Purpose:"})," Define what you want to prove"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-circom",children:"// circuits/kyc_transfer.circom\ntemplate KYCTransfer() {\n    // Private inputs (never on-chain)\n    signal input age;\n    signal input balance;\n    signal input country;\n\n    // Public inputs (visible on-chain)\n    signal input minAge;\n    signal input minBalance;\n    signal input allowedCountries[10];\n\n    // Public output\n    signal output kycValid;\n\n    // Constraints\n    component ageCheck = GreaterEqThan(8);\n    component balanceCheck = GreaterEqThan(32);\n    component countryCheck = IsInArray(10);\n\n    ageCheck.in[0] <== age;\n    ageCheck.in[1] <== minAge;\n\n    balanceCheck.in[0] <== balance;\n    balanceCheck.in[1] <== minBalance;\n\n    countryCheck.value <== country;\n    countryCheck.array <== allowedCountries;\n\n    kycValid <== ageCheck.out * balanceCheck.out * countryCheck.out;\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Compilation:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"circom kyc_transfer.circom --r1cs --wasm --sym\n# Generates:\n# - kyc_transfer.r1cs (constraints)\n# - kyc_transfer.wasm (witness generator)\n# - kyc_transfer.sym (symbols for debugging)\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Trusted Setup:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Phase 1: Powers of Tau (can be reused)\nsnarkjs powersoftau new bn128 12 pot12_0000.ptau\nsnarkjs powersoftau contribute pot12_0000.ptau pot12_final.ptau\n\n# Phase 2: Circuit-specific\nsnarkjs groth16 setup kyc_transfer.r1cs pot12_final.ptau circuit_0000.zkey\nsnarkjs zkey contribute circuit_0000.zkey circuit_final.zkey\n\n# Export verification key\nsnarkjs zkey export verificationkey circuit_final.zkey verification_key.json\n"})}),"\n",(0,t.jsx)(n.h3,{id:"2-proof-generation-layer-client-side",children:"2. Proof Generation Layer (Client-Side)"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Purpose:"})," Generate proofs from private data"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:'import { groth16 } from "snarkjs";\n\nasync function generateProof(privateData: any) {\n  // 1. Prepare inputs\n  const inputs = {\n    // Private\n    age: privateData.age,\n    balance: privateData.balance,\n    country: privateData.countryId,\n\n    // Public\n    minAge: 18,\n    minBalance: 500,\n    allowedCountries: [1, 2, 3, 0, 0, 0, 0, 0, 0, 0]\n  };\n\n  // 2. Generate witness\n  const { proof, publicSignals } = await groth16.fullProve(\n    inputs,\n    "kyc_transfer.wasm",\n    "circuit_final.zkey"\n  );\n\n  // 3. Serialize for Soroban\n  const proofBytes = serializeProof(proof);\n  const pubInputsBytes = serializePublicInputs(publicSignals);\n\n  return { proofBytes, pubInputsBytes };\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Proof Structure:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Groth16 Proof (256 bytes)\n\u251c\u2500\u2500 A: G1 point (64 bytes)\n\u251c\u2500\u2500 B: G2 point (128 bytes)\n\u2514\u2500\u2500 C: G1 point (64 bytes)\n\nPublic Inputs (variable)\n\u251c\u2500\u2500 kycValid: 1 field element (32 bytes)\n\u251c\u2500\u2500 minAge: 1 field element (32 bytes)\n\u251c\u2500\u2500 minBalance: 1 field element (32 bytes)\n\u2514\u2500\u2500 allowedCountries: 10 field elements (320 bytes)\n\nTotal: ~800 bytes\n"})}),"\n",(0,t.jsx)(n.h3,{id:"3-verification-layer-stellar-soroban",children:"3. Verification Layer (Stellar Soroban)"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Purpose:"})," Verify proofs on-chain"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-rust",children:"// contracts/src/lib.rs\n#![no_std]\nuse soroban_sdk::{contract, contractimpl, contracttype, Env, Vec, Bytes};\n\nmod groth16;\nuse groth16::{verify_groth16, Proof, PublicInputs};\n\n#[contract]\npub struct Groth16Verifier;\n\n#[contractimpl]\nimpl Groth16Verifier {\n    /// Verify a Groth16 proof\n    pub fn verify(\n        env: Env,\n        proof_bytes: Bytes,\n        public_inputs_bytes: Bytes\n    ) -> bool {\n        // 1. Deserialize proof\n        let proof = Proof::from_bytes(&proof_bytes);\n\n        // 2. Deserialize public inputs\n        let public_inputs = PublicInputs::from_bytes(&public_inputs_bytes);\n\n        // 3. Verify using Groth16 algorithm\n        verify_groth16(&proof, &public_inputs)\n    }\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"groth16-verification-algorithm",children:"Groth16 Verification Algorithm"}),"\n",(0,t.jsx)(n.p,{children:"The verifier implements the pairing equation:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"e(A, B) = e(\u03b1, \u03b2) \xb7 e(C, \u03b3) \xb7 e(\u2211\u1d62 (pubInput\u1d62 \xb7 IC\u1d62), \u03b4)\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Implementation Steps:"})}),"\n",(0,t.jsx)(n.h3,{id:"step-1-parse-verification-key",children:"Step 1: Parse Verification Key"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-rust",children:"pub struct VerificationKey {\n    alpha_g1: G1Affine,      // \u03b1 in G1\n    beta_g2: G2Affine,       // \u03b2 in G2\n    gamma_g2: G2Affine,      // \u03b3 in G2\n    delta_g2: G2Affine,      // \u03b4 in G2\n    ic: Vec<G1Affine>,       // IC\u2080, IC\u2081, ..., IC\u2099\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"step-2-compute-ic-sum",children:"Step 2: Compute IC Sum"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-rust",children:"fn compute_ic_sum(vk: &VerificationKey, public_inputs: &[Fr]) -> G1Affine {\n    let mut acc = vk.ic[0];\n\n    for (i, input) in public_inputs.iter().enumerate() {\n        let scaled = vk.ic[i + 1].mul(*input);\n        acc = acc.add(&scaled);\n    }\n\n    acc\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"step-3-pairing-check",children:"Step 3: Pairing Check"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-rust",children:"fn verify_groth16(\n    proof: &Proof,\n    public_inputs: &PublicInputs\n) -> bool {\n    let ic_sum = compute_ic_sum(&VK, &public_inputs.values);\n\n    // Compute pairings\n    let p1 = pairing(&proof.a, &proof.b);\n    let p2 = pairing(&VK.alpha_g1, &VK.beta_g2);\n    let p3 = pairing(&proof.c, &VK.gamma_g2);\n    let p4 = pairing(&ic_sum, &VK.delta_g2);\n\n    // Check equation\n    p1 == p2 * p3 * p4\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"bn254-curve-implementation",children:"BN254 Curve Implementation"}),"\n",(0,t.jsx)(n.h3,{id:"field-arithmetic",children:"Field Arithmetic"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-rust",children:"// Base field Fq (modulus q)\npub struct Fq {\n    value: U256,\n}\n\nimpl Fq {\n    pub fn add(&self, other: &Fq) -> Fq { ... }\n    pub fn sub(&self, other: &Fq) -> Fq { ... }\n    pub fn mul(&self, other: &Fq) -> Fq { ... }\n    pub fn inv(&self) -> Fq { ... }\n}\n\n// Extension fields\npub struct Fq2 { c0: Fq, c1: Fq }\npub struct Fq6 { c0: Fq2, c1: Fq2, c2: Fq2 }\npub struct Fq12 { c0: Fq6, c1: Fq6 }\n"})}),"\n",(0,t.jsx)(n.h3,{id:"elliptic-curve-groups",children:"Elliptic Curve Groups"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-rust",children:"// G1: Points over Fq\npub struct G1Affine {\n    x: Fq,\n    y: Fq,\n}\n\n// G2: Points over Fq2\npub struct G2Affine {\n    x: Fq2,\n    y: Fq2,\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"optimal-ate-pairing",children:"Optimal Ate Pairing"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-rust",children:"pub fn pairing(p: &G1Affine, q: &G2Affine) -> Fq12 {\n    // Miller loop\n    let f = miller_loop(p, q);\n\n    // Final exponentiation\n    final_exponentiation(f)\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"performance-characteristics",children:"Performance Characteristics"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Operation"}),(0,t.jsx)(n.th,{children:"Time"}),(0,t.jsx)(n.th,{children:"Gas"}),(0,t.jsx)(n.th,{children:"Size"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Proof Generation"})}),(0,t.jsx)(n.td,{children:"~1s"}),(0,t.jsx)(n.td,{children:"Off-chain"}),(0,t.jsx)(n.td,{children:"-"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Proof Size"})}),(0,t.jsx)(n.td,{children:"-"}),(0,t.jsx)(n.td,{children:"-"}),(0,t.jsx)(n.td,{children:"256 bytes"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Public Inputs"})}),(0,t.jsx)(n.td,{children:"-"}),(0,t.jsx)(n.td,{children:"-"}),(0,t.jsx)(n.td,{children:"~500 bytes"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Verification"})}),(0,t.jsx)(n.td,{children:"~200ms"}),(0,t.jsx)(n.td,{children:"~200k gas"}),(0,t.jsx)(n.td,{children:"-"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Contract Size"})}),(0,t.jsx)(n.td,{children:"-"}),(0,t.jsx)(n.td,{children:"-"}),(0,t.jsx)(n.td,{children:"20KB WASM"})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"deployment-flow",children:"Deployment Flow"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"1. Circuit Development\n   \u251c\u2500\u2500 Write circuit (Circom)\n   \u251c\u2500\u2500 Compile to R1CS\n   \u2514\u2500\u2500 Run trusted setup\n        \u2502\n        \u25bc\n2. Contract Deployment\n   \u251c\u2500\u2500 Export verification key\n   \u251c\u2500\u2500 Generate Rust verifier\n   \u251c\u2500\u2500 Compile to WASM\n   \u2514\u2500\u2500 Deploy to Soroban\n        \u2502\n        \u25bc\n3. Client Integration\n   \u251c\u2500\u2500 Load circuit artifacts\n   \u251c\u2500\u2500 Generate proofs (browser/Node.js)\n   \u2514\u2500\u2500 Submit to Stellar\n"})}),"\n",(0,t.jsx)(n.h2,{id:"security-considerations",children:"Security Considerations"}),"\n",(0,t.jsx)(n.h3,{id:"trusted-setup",children:"Trusted Setup"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Circuit-specific ceremony required"}),"\n",(0,t.jsx)(n.li,{children:"Safe if \u22651 participant is honest"}),"\n",(0,t.jsx)(n.li,{children:"Powers of Tau can be reused"}),"\n",(0,t.jsx)(n.li,{children:"Recommend 100+ participants for production"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"contract-security",children:"Contract Security"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Verification key is immutable"}),"\n",(0,t.jsx)(n.li,{children:"Proof validation is deterministic"}),"\n",(0,t.jsx)(n.li,{children:"No external calls or dependencies"}),"\n",(0,t.jsx)(n.li,{children:"Extensive test coverage (49+ tests)"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"circuit-constraints",children:"Circuit Constraints"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"All constraints must be satisfied"}),"\n",(0,t.jsx)(n.li,{children:"Under-constrained circuits are vulnerable"}),"\n",(0,t.jsx)(n.li,{children:"Formal verification recommended"}),"\n",(0,t.jsx)(n.li,{children:"Regular security audits"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"live-deployment",children:"Live Deployment"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Testnet Contract:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"CBPBVJJW5NMV4UVEDKSR6UO4DRBNWRQEMYKRYZI3CW6YK3O7HAZA43OI\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://stellar.expert/explorer/testnet/contract/CBPBVJJW5NMV4UVEDKSR6UO4DRBNWRQEMYKRYZI3CW6YK3O7HAZA43OI",children:"View on Stellar Expert \u2192"})}),"\n",(0,t.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"../getting-started/quick-start",children:"Quick Start"})," - Generate your first proof"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"../stellar-integration/overview",children:"Stellar Integration"})," - Deploy to Soroban"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"../advanced/custom-circuits",children:"Custom Circuits"})," - Build your own circuits"]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>c,x:()=>l});var r=i(6540);const t={},s=r.createContext(t);function c(e){const n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:c(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);